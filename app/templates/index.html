<!DOCTYPE html>
<html lang="en">
<head>
  <title>Flask_Chat_App</title>
</head>
<body>

    <head>
        <title>Flask-SocketIO-Chat: {{ room }}</title>
        <script type="text/javascript" src="//code.jquery.com/jquery-1.4.2.min.js"></script>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script type="text/javascript" charset="utf-8">
            $(document).ready(function(){
                var socket = io.connect('http://' + document.domain + ':' + location.port);

                socket.on('connect',function(){
                    socket.emit('connection',{});
                });
                
                socket.on('response',function(){
                    $('#log').append('<li>'+'user has connected with websocket'+'</li>');
                    console.log("user connected");
                })

                socket.on('my_response', function(msg){
                    $('#log').append('<li>'+msg+'</li>');
                    console.log("received message");
                });

                socket.on('Direct', function(msg){
                    console.log("direct message sent");
                    alert(msg)
                });

                $('#sendbutton').on('click', function(){
                    socket.emit('submission', $("#myMessage").val())
                    $('#myMessage').val('');
                })

                $('#sendDirect').on('click', function(){
                    socket.emit('direct_message', $("#myDirectMessage").val())
                    $('#myMessage').val('');
                })
            })
        </script>
        </head>
        <body>
            <h2>Receive:</h2>
            <div id="log"></div>
            <input type="text" id="myMessage">
            <button id="sendbutton">send</button>
        </body>
        <body>
            <h2>Direct:</h2>
            <input type="text" id="myDirectMessage">
            <button id="sendDirect">send</button>
        </body>
</html>